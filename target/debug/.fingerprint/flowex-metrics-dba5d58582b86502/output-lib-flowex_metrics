{"$message_type":"diagnostic","message":"borrowed data escapes outside of method","code":{"code":"E0521","explanation":"Borrowed data escapes outside of closure.\n\nErroneous code example:\n\n```compile_fail,E0521\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el: &str| {\n    list.push(el); // error: `el` escapes the closure body here\n};\n```\n\nA type annotation of a closure parameter implies a new lifetime declaration.\nConsider to drop it, the compiler is reliably able to infer them.\n\n```\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el| {\n    list.push(el);\n};\n```\n\nSee the [Closure type inference and annotation][closure-infere-annotation] and\n[Lifetime elision][lifetime-elision] sections of the Book for more details.\n\n[closure-infere-annotation]: https://doc.rust-lang.org/book/ch13-01-closures.html#closure-type-inference-and-annotation\n[lifetime-elision]: https://doc.rust-lang.org/reference/lifetime-elision.html\n"},"level":"error","spans":[{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":411,"byte_end":417,"line_start":20,"line_end":20,"column_start":34,"column_end":40,"is_primary":false,"text":[{"text":"    pub fn record_request(&self, method: &str, path: &str, status: u16) {","highlight_start":34,"highlight_end":40}],"label":"`method` is a reference that is only valid in the method body","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"`method` escapes the method body here","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3901,"byte_end":3961,"line_start":109,"line_end":109,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":4644,"byte_end":4763,"line_start":121,"line_end":121,"column_start":9,"column_end":128,"is_primary":false,"text":[{"text":"        $crate::counter!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":128}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":460,"byte_end":559,"line_start":21,"line_end":21,"column_start":9,"column_end":108,"is_primary":false,"text":[{"text":"        counter!(\"http_requests_total\", \"method\" => method, \"path\" => path, \"status\" => status.to_string()).increment(1);","highlight_start":9,"highlight_end":108}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":419,"byte_end":420,"line_start":20,"line_end":20,"column_start":42,"column_end":43,"is_primary":false,"text":[{"text":"    pub fn record_request(&self, method: &str, path: &str, status: u16) {","highlight_start":42,"highlight_end":43}],"label":"let's call the lifetime of this reference `'1`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"argument requires that `'1` must outlive `'static`","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3901,"byte_end":3961,"line_start":109,"line_end":109,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":4644,"byte_end":4763,"line_start":121,"line_end":121,"column_start":9,"column_end":128,"is_primary":false,"text":[{"text":"        $crate::counter!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":128}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":460,"byte_end":559,"line_start":21,"line_end":21,"column_start":9,"column_end":108,"is_primary":false,"text":[{"text":"        counter!(\"http_requests_total\", \"method\" => method, \"path\" => path, \"status\" => status.to_string()).increment(1);","highlight_start":9,"highlight_end":108}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0521]\u001b[0m\u001b[0m\u001b[1m: borrowed data escapes outside of method\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mbackend/shared/metrics/src/lib.rs:21:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn record_request(&self, method: &str, path: &str, status: u16) {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m------\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mlet's call the lifetime of this reference `'1`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m`method` is a reference that is only valid in the method body\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        counter!(\"http_requests_total\", \"method\" => method, \"path\" => path, \"status\" => status.to_string()).increment(1);\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m`method` escapes the method body here\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9margument requires that `'1` must outlive `'static`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this error originates in the macro `$crate::key_var` which comes from the expansion of the macro `counter` (in Nightly builds, run with -Z macro-backtrace for more info)\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"borrowed data escapes outside of method","code":{"code":"E0521","explanation":"Borrowed data escapes outside of closure.\n\nErroneous code example:\n\n```compile_fail,E0521\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el: &str| {\n    list.push(el); // error: `el` escapes the closure body here\n};\n```\n\nA type annotation of a closure parameter implies a new lifetime declaration.\nConsider to drop it, the compiler is reliably able to infer them.\n\n```\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el| {\n    list.push(el);\n};\n```\n\nSee the [Closure type inference and annotation][closure-infere-annotation] and\n[Lifetime elision][lifetime-elision] sections of the Book for more details.\n\n[closure-infere-annotation]: https://doc.rust-lang.org/book/ch13-01-closures.html#closure-type-inference-and-annotation\n[lifetime-elision]: https://doc.rust-lang.org/reference/lifetime-elision.html\n"},"level":"error","spans":[{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":425,"byte_end":429,"line_start":20,"line_end":20,"column_start":48,"column_end":52,"is_primary":false,"text":[{"text":"    pub fn record_request(&self, method: &str, path: &str, status: u16) {","highlight_start":48,"highlight_end":52}],"label":"`path` is a reference that is only valid in the method body","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"`path` escapes the method body here","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3901,"byte_end":3961,"line_start":109,"line_end":109,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":4644,"byte_end":4763,"line_start":121,"line_end":121,"column_start":9,"column_end":128,"is_primary":false,"text":[{"text":"        $crate::counter!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":128}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":460,"byte_end":559,"line_start":21,"line_end":21,"column_start":9,"column_end":108,"is_primary":false,"text":[{"text":"        counter!(\"http_requests_total\", \"method\" => method, \"path\" => path, \"status\" => status.to_string()).increment(1);","highlight_start":9,"highlight_end":108}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":431,"byte_end":432,"line_start":20,"line_end":20,"column_start":54,"column_end":55,"is_primary":false,"text":[{"text":"    pub fn record_request(&self, method: &str, path: &str, status: u16) {","highlight_start":54,"highlight_end":55}],"label":"let's call the lifetime of this reference `'2`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"argument requires that `'2` must outlive `'static`","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3901,"byte_end":3961,"line_start":109,"line_end":109,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":4644,"byte_end":4763,"line_start":121,"line_end":121,"column_start":9,"column_end":128,"is_primary":false,"text":[{"text":"        $crate::counter!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":128}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":460,"byte_end":559,"line_start":21,"line_end":21,"column_start":9,"column_end":108,"is_primary":false,"text":[{"text":"        counter!(\"http_requests_total\", \"method\" => method, \"path\" => path, \"status\" => status.to_string()).increment(1);","highlight_start":9,"highlight_end":108}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::counter!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":3735,"byte_end":3755,"line_start":107,"line_end":107,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! counter {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0521]\u001b[0m\u001b[0m\u001b[1m: borrowed data escapes outside of method\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mbackend/shared/metrics/src/lib.rs:21:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn record_request(&self, method: &str, path: &str, status: u16) {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m----\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mlet's call the lifetime of this reference `'2`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m`path` is a reference that is only valid in the method body\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        counter!(\"http_requests_total\", \"method\" => method, \"path\" => path, \"status\" => status.to_string()).increment(1);\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m`path` escapes the method body here\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9margument requires that `'2` must outlive `'static`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this error originates in the macro `$crate::key_var` which comes from the expansion of the macro `counter` (in Nightly builds, run with -Z macro-backtrace for more info)\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"borrowed data escapes outside of method","code":{"code":"E0521","explanation":"Borrowed data escapes outside of closure.\n\nErroneous code example:\n\n```compile_fail,E0521\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el: &str| {\n    list.push(el); // error: `el` escapes the closure body here\n};\n```\n\nA type annotation of a closure parameter implies a new lifetime declaration.\nConsider to drop it, the compiler is reliably able to infer them.\n\n```\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el| {\n    list.push(el);\n};\n```\n\nSee the [Closure type inference and annotation][closure-infere-annotation] and\n[Lifetime elision][lifetime-elision] sections of the Book for more details.\n\n[closure-infere-annotation]: https://doc.rust-lang.org/book/ch13-01-closures.html#closure-type-inference-and-annotation\n[lifetime-elision]: https://doc.rust-lang.org/reference/lifetime-elision.html\n"},"level":"error","spans":[{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":624,"byte_end":630,"line_start":24,"line_end":24,"column_start":40,"column_end":46,"is_primary":false,"text":[{"text":"    pub fn record_response_time(&self, method: &str, path: &str, duration_ms: f64) {","highlight_start":40,"highlight_end":46}],"label":"`method` is a reference that is only valid in the method body","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"`method` escapes the method body here","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9864,"byte_end":9924,"line_start":240,"line_end":240,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":10613,"byte_end":10734,"line_start":252,"line_end":252,"column_start":9,"column_end":130,"is_primary":false,"text":[{"text":"        $crate::histogram!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":130}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":678,"byte_end":752,"line_start":25,"line_end":25,"column_start":9,"column_end":83,"is_primary":false,"text":[{"text":"        histogram!(\"http_request_duration_ms\", \"method\" => method, \"path\" => path).record(duration_ms);","highlight_start":9,"highlight_end":83}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":632,"byte_end":633,"line_start":24,"line_end":24,"column_start":48,"column_end":49,"is_primary":false,"text":[{"text":"    pub fn record_response_time(&self, method: &str, path: &str, duration_ms: f64) {","highlight_start":48,"highlight_end":49}],"label":"let's call the lifetime of this reference `'1`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"argument requires that `'1` must outlive `'static`","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9864,"byte_end":9924,"line_start":240,"line_end":240,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":10613,"byte_end":10734,"line_start":252,"line_end":252,"column_start":9,"column_end":130,"is_primary":false,"text":[{"text":"        $crate::histogram!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":130}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":678,"byte_end":752,"line_start":25,"line_end":25,"column_start":9,"column_end":83,"is_primary":false,"text":[{"text":"        histogram!(\"http_request_duration_ms\", \"method\" => method, \"path\" => path).record(duration_ms);","highlight_start":9,"highlight_end":83}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0521]\u001b[0m\u001b[0m\u001b[1m: borrowed data escapes outside of method\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mbackend/shared/metrics/src/lib.rs:25:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m24\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn record_response_time(&self, method: &str, path: &str, duration_ms: f64) {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m------\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mlet's call the lifetime of this reference `'1`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m`method` is a reference that is only valid in the method body\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m25\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        histogram!(\"http_request_duration_ms\", \"method\" => method, \"path\" => path).record(duration_ms);\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m`method` escapes the method body here\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9margument requires that `'1` must outlive `'static`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this error originates in the macro `$crate::key_var` which comes from the expansion of the macro `histogram` (in Nightly builds, run with -Z macro-backtrace for more info)\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"borrowed data escapes outside of method","code":{"code":"E0521","explanation":"Borrowed data escapes outside of closure.\n\nErroneous code example:\n\n```compile_fail,E0521\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el: &str| {\n    list.push(el); // error: `el` escapes the closure body here\n};\n```\n\nA type annotation of a closure parameter implies a new lifetime declaration.\nConsider to drop it, the compiler is reliably able to infer them.\n\n```\nlet mut list: Vec<&str> = Vec::new();\n\nlet _add = |el| {\n    list.push(el);\n};\n```\n\nSee the [Closure type inference and annotation][closure-infere-annotation] and\n[Lifetime elision][lifetime-elision] sections of the Book for more details.\n\n[closure-infere-annotation]: https://doc.rust-lang.org/book/ch13-01-closures.html#closure-type-inference-and-annotation\n[lifetime-elision]: https://doc.rust-lang.org/reference/lifetime-elision.html\n"},"level":"error","spans":[{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":638,"byte_end":642,"line_start":24,"line_end":24,"column_start":54,"column_end":58,"is_primary":false,"text":[{"text":"    pub fn record_response_time(&self, method: &str, path: &str, duration_ms: f64) {","highlight_start":54,"highlight_end":58}],"label":"`path` is a reference that is only valid in the method body","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"`path` escapes the method body here","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9864,"byte_end":9924,"line_start":240,"line_end":240,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":10613,"byte_end":10734,"line_start":252,"line_end":252,"column_start":9,"column_end":130,"is_primary":false,"text":[{"text":"        $crate::histogram!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":130}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":678,"byte_end":752,"line_start":25,"line_end":25,"column_start":9,"column_end":83,"is_primary":false,"text":[{"text":"        histogram!(\"http_request_duration_ms\", \"method\" => method, \"path\" => path).record(duration_ms);","highlight_start":9,"highlight_end":83}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":644,"byte_end":645,"line_start":24,"line_end":24,"column_start":60,"column_end":61,"is_primary":false,"text":[{"text":"    pub fn record_response_time(&self, method: &str, path: &str, duration_ms: f64) {","highlight_start":60,"highlight_end":61}],"label":"let's call the lifetime of this reference `'2`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":1512,"byte_end":1556,"line_start":50,"line_end":50,"column_start":15,"column_end":59,"is_primary":true,"text":[{"text":"            $($crate::Label::new($label_key, $label_value)),*","highlight_start":15,"highlight_end":59}],"label":"argument requires that `'2` must outlive `'static`","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9864,"byte_end":9924,"line_start":240,"line_end":240,"column_start":26,"column_end":86,"is_primary":false,"text":[{"text":"        let metric_key = $crate::key_var!($name $(, $label_key $(=> $label_value)?)*);","highlight_start":26,"highlight_end":86}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":10613,"byte_end":10734,"line_start":252,"line_end":252,"column_start":9,"column_end":130,"is_primary":false,"text":[{"text":"        $crate::histogram!(target: ::std::module_path!(), level: $crate::Level::INFO, $name $(, $label_key $(=> $label_value)?)*)","highlight_start":9,"highlight_end":130}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"backend/shared/metrics/src/lib.rs","byte_start":678,"byte_end":752,"line_start":25,"line_end":25,"column_start":9,"column_end":83,"is_primary":false,"text":[{"text":"        histogram!(\"http_request_duration_ms\", \"method\" => method, \"path\" => path).record(duration_ms);","highlight_start":9,"highlight_end":83}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::histogram!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":9696,"byte_end":9718,"line_start":238,"line_end":238,"column_start":1,"column_end":23,"is_primary":false,"text":[{"text":"macro_rules! histogram {","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::key_var!","def_site_span":{"file_name":"/Users/arksong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/metrics-0.22.4/src/macros.rs","byte_start":522,"byte_end":542,"line_start":27,"line_end":27,"column_start":1,"column_end":21,"is_primary":false,"text":[{"text":"macro_rules! key_var {","highlight_start":1,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0521]\u001b[0m\u001b[0m\u001b[1m: borrowed data escapes outside of method\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mbackend/shared/metrics/src/lib.rs:25:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m24\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn record_response_time(&self, method: &str, path: &str, duration_ms: f64) {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                      \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m----\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mlet's call the lifetime of this reference `'2`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                      \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                      \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m`path` is a reference that is only valid in the method body\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m25\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        histogram!(\"http_request_duration_ms\", \"method\" => method, \"path\" => path).record(duration_ms);\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m`path` escapes the method body here\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9margument requires that `'2` must outlive `'static`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this error originates in the macro `$crate::key_var` which comes from the expansion of the macro `histogram` (in Nightly builds, run with -Z macro-backtrace for more info)\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 4 previous errors","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to 4 previous errors\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"For more information about this error, try `rustc --explain E0521`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1mFor more information about this error, try `rustc --explain E0521`.\u001b[0m\n"}
